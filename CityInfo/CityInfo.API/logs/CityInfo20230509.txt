2023-05-09 11:18:43.627 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 11:18:44.122 +05:30 [DBG] Hosting starting
2023-05-09 11:18:46.078 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 11:18:46.108 +05:30 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-05-09 11:18:46.118 +05:30 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-05-09 11:18:46.127 +05:30 [INF] Creating key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with creation date 2023-05-09 05:48:46Z, activation date 2023-05-09 05:48:46Z, and expiration date 2023-08-07 05:48:46Z.
2023-05-09 11:18:46.272 +05:30 [DBG] Descriptor deserializer type for key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-05-09 11:18:46.480 +05:30 [DBG] No key escrow sink found. Not writing key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} to escrow.
2023-05-09 11:18:46.546 +05:30 [DBG] Encrypting to Windows DPAPI for current user account (AzureAD\RajanBakolia).
2023-05-09 11:18:46.594 +05:30 [INF] Writing data to file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 11:18:46.624 +05:30 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-05-09 11:18:46.643 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 11:18:46.689 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 11:18:46.707 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 11:18:46.722 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 11:18:46.730 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 11:18:46.733 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 11:18:46.746 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 11:18:46.766 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 11:18:46.773 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 11:18:46.782 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 11:18:47.193 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 11:18:47.252 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 11:18:47.255 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 11:18:47.256 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 11:18:47.258 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 11:18:47.259 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 11:18:47.261 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 11:18:47.262 +05:30 [INF] Hosting environment: Development
2023-05-09 11:18:47.264 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 11:18:47.266 +05:30 [DBG] Hosting started
2023-05-09 11:19:20.546 +05:30 [DBG] Connection id "0HMQGA4H8UUV8" received FIN.
2023-05-09 11:19:20.603 +05:30 [DBG] Connection id "0HMQGA4H8UUV8" accepted.
2023-05-09 11:19:20.618 +05:30 [DBG] Connection id "0HMQGA4H8UUV8" started.
2023-05-09 11:19:20.623 +05:30 [DBG] Connection id "0HMQGA4H8UUV9" accepted.
2023-05-09 11:19:20.628 +05:30 [DBG] Connection id "0HMQGA4H8UUV9" started.
2023-05-09 11:19:20.682 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 11:19:20.817 +05:30 [DBG] Connection id "0HMQGA4H8UUV8" stopped.
2023-05-09 11:19:20.822 +05:30 [DBG] Connection id "0HMQGA4H8UUV8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 11:19:20.835 +05:30 [DBG] Connection 0HMQGA4H8UUV9 established using the following protocol: "Tls13"
2023-05-09 11:19:20.945 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities - -
2023-05-09 11:19:20.989 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 11:19:21.091 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 11:19:21.215 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-09 11:19:21.329 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-09 11:19:21.339 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 11:19:21.546 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-09 11:19:21.567 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-09 11:19:21.593 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-09 11:19:21.603 +05:30 [DBG] Connection id "0HMQGA4H8UUV9" completed keep alive response.
2023-05-09 11:19:21.614 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities - - - 401 0 - 674.8411ms
2023-05-09 11:20:26.796 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102
2023-05-09 11:20:26.798 +05:30 [DBG] POST requests are not supported
2023-05-09 11:20:26.802 +05:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-09 11:20:26.805 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-09 11:20:26.809 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 11:20:26.814 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-09 11:20:26.821 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 11:20:26.891 +05:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-05-09 11:20:26.896 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 11:20:26.900 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 11:20:26.903 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 11:20:26.907 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 11:20:26.912 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 11:20:26.917 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 11:20:26.923 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 11:20:26.942 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 11:20:26.949 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-05-09 11:20:26.956 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-09 11:20:26.960 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-09 11:20:26.991 +05:30 [DBG] Connection id "0HMQGA4H8UUV9", Request id "0HMQGA4H8UUV9:00000003": started reading request body.
2023-05-09 11:20:26.995 +05:30 [DBG] Connection id "0HMQGA4H8UUV9", Request id "0HMQGA4H8UUV9:00000003": done reading request body.
2023-05-09 11:20:27.447 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 11:20:27.452 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 11:20:27.456 +05:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 11:20:27.476 +05:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 11:20:27.838 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 11:20:27.853 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 11:20:27.856 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-09 11:20:27.859 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-09 11:20:27.863 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-09 11:20:27.869 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-09 11:20:27.892 +05:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 961.92ms
2023-05-09 11:20:27.896 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 11:20:27.898 +05:30 [DBG] Connection id "0HMQGA4H8UUV9" completed keep alive response.
2023-05-09 11:20:27.900 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102 - 200 - text/plain;+charset=utf-8 1103.1549ms
2023-05-09 11:21:09.850 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities - -
2023-05-09 11:21:09.855 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 11:21:09.858 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-09 11:21:09.861 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-09 11:21:09.865 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 11:21:10.109 +05:30 [DBG] Successfully validated the token.
2023-05-09 11:21:10.115 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 11:21:10.120 +05:30 [DBG] Authorization was successful.
2023-05-09 11:21:10.122 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 11:21:10.160 +05:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-05-09 11:21:10.166 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 11:21:10.168 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 11:21:10.172 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 11:21:10.174 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 11:21:10.176 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 11:21:10.178 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-05-09 11:21:10.604 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 11:21:11.088 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-05-09 11:21:11.091 +05:30 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-09 11:21:11.093 +05:30 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-09 11:21:11.098 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-09 11:21:11.101 +05:30 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-09 11:21:11.104 +05:30 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-09 11:21:11.106 +05:30 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-09 11:21:11.109 +05:30 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-09 11:21:11.112 +05:30 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-09 11:21:11.115 +05:30 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-09 11:21:11.118 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-09 11:21:11.120 +05:30 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-09 11:21:11.122 +05:30 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-09 11:21:11.125 +05:30 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-09 11:21:11.127 +05:30 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-09 11:21:11.131 +05:30 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-09 11:21:11.133 +05:30 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-05-09 11:21:11.136 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 11:21:11.138 +05:30 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 11:21:11.140 +05:30 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 11:21:11.142 +05:30 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-09 11:21:11.144 +05:30 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 11:21:11.148 +05:30 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-09 11:21:11.150 +05:30 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-05-09 11:21:11.152 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-05-09 11:21:11.155 +05:30 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-09 11:21:11.158 +05:30 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-09 11:21:11.160 +05:30 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-09 11:21:11.164 +05:30 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-09 11:21:13.513 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 11:21:13.633 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-09 11:21:14.346 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 11:21:14.490 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 11:21:14.666 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (174ms).
2023-05-09 11:21:14.711 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 11:21:14.798 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 11:21:14.832 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-09 11:21:14.942 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-09 11:21:15.006 +05:30 [DBG] A data reader was disposed.
2023-05-09 11:21:15.031 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 11:21:15.055 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 11:21:15.094 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-09 11:21:15.276 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 11:21:15.317 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 11:21:15.319 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 11:21:15.330 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 11:21:15.334 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 11:21:15.349 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-09 11:21:15.362 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-09 11:21:15.420 +05:30 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-09 11:21:15.484 +05:30 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-09 11:21:15.487 +05:30 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-09 11:21:15.491 +05:30 [DBG] A data reader was disposed.
2023-05-09 11:21:15.493 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 11:21:15.495 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 11:21:15.603 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 11:21:15.610 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 11:21:15.613 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-09 11:21:15.615 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-09 11:21:15.617 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-09 11:21:15.620 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-09 11:21:15.769 +05:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5591.5693ms
2023-05-09 11:21:15.771 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 11:21:15.772 +05:30 [DBG] Connection id "0HMQGA4H8UUV9" completed keep alive response.
2023-05-09 11:21:15.781 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 11:21:15.789 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities - - - 200 247 application/json;+charset=utf-8 5940.2702ms
2023-05-09 11:27:40.390 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 11:27:40.579 +05:30 [DBG] Hosting starting
2023-05-09 11:27:40.633 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 11:27:40.639 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 11:27:40.656 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 11:27:40.682 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 11:27:40.689 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 11:27:40.696 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 11:27:40.698 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 11:27:40.713 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 11:27:40.720 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 11:27:40.733 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 11:27:40.762 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 11:27:41.123 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 11:27:41.223 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 11:27:41.225 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 11:27:41.227 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 11:27:41.229 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 11:27:41.231 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 11:27:41.232 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 11:27:41.233 +05:30 [INF] Hosting environment: Development
2023-05-09 11:27:41.234 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 11:27:41.235 +05:30 [DBG] Hosting started
2023-05-09 11:28:47.007 +05:30 [DBG] Connection id "0HMQGA9Q359G1" received FIN.
2023-05-09 11:28:47.041 +05:30 [DBG] Connection id "0HMQGA9Q359G1" accepted.
2023-05-09 11:28:47.054 +05:30 [DBG] Connection id "0HMQGA9Q359G1" started.
2023-05-09 11:28:47.057 +05:30 [DBG] Connection id "0HMQGA9Q359G2" accepted.
2023-05-09 11:28:47.059 +05:30 [DBG] Connection id "0HMQGA9Q359G2" started.
2023-05-09 11:28:47.084 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 11:28:47.157 +05:30 [DBG] Connection id "0HMQGA9Q359G1" stopped.
2023-05-09 11:28:47.161 +05:30 [DBG] Connection id "0HMQGA9Q359G1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 11:28:47.172 +05:30 [DBG] Connection 0HMQGA9Q359G2 established using the following protocol: "Tls13"
2023-05-09 11:28:47.224 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 11:28:47.243 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 11:28:47.296 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 11:28:47.360 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 11:28:47.367 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 11:28:47.373 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 11:28:47.829 +05:30 [DBG] Successfully validated the token.
2023-05-09 11:28:47.832 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 11:28:47.843 +05:30 [DBG] Authorization was successful.
2023-05-09 11:28:47.846 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 11:28:47.887 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 11:28:47.892 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 11:28:47.896 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 11:28:47.898 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 11:28:47.904 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 11:28:47.907 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 11:28:47.914 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 11:28:48.143 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 11:28:48.375 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 11:28:48.382 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 11:28:48.388 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 11:28:48.394 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 11:28:48.398 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 11:28:48.399 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 11:28:48.405 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:21:26.682 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:21:26.827 +05:30 [DBG] Hosting starting
2023-05-09 15:21:26.877 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:21:26.885 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:21:26.909 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:21:26.928 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:21:26.937 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:21:26.946 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:21:26.950 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:21:26.963 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:21:26.969 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:21:26.982 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:21:26.986 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:21:27.234 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:21:27.285 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:21:27.288 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:21:27.290 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:21:27.291 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:21:27.293 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:21:27.294 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:21:27.296 +05:30 [INF] Hosting environment: Development
2023-05-09 15:21:27.297 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:21:27.299 +05:30 [DBG] Hosting started
2023-05-09 15:22:23.800 +05:30 [DBG] Connection id "0HMQGECBDMP74" received FIN.
2023-05-09 15:22:23.842 +05:30 [DBG] Connection id "0HMQGECBDMP74" accepted.
2023-05-09 15:22:23.855 +05:30 [DBG] Connection id "0HMQGECBDMP74" started.
2023-05-09 15:22:23.859 +05:30 [DBG] Connection id "0HMQGECBDMP75" accepted.
2023-05-09 15:22:23.862 +05:30 [DBG] Connection id "0HMQGECBDMP75" started.
2023-05-09 15:22:23.921 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:22:24.023 +05:30 [DBG] Connection id "0HMQGECBDMP74" stopped.
2023-05-09 15:22:24.026 +05:30 [DBG] Connection id "0HMQGECBDMP74" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:22:24.042 +05:30 [DBG] Connection 0HMQGECBDMP75 established using the following protocol: "Tls13"
2023-05-09 15:22:24.121 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:22:24.145 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:22:24.211 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:22:24.262 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:22:24.271 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:22:24.274 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:22:24.747 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 6.50.27 AM', Current time (UTC): '09-05-2023 9.52.24 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-09 15:22:24.760 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 6.50.27 AM', Current time (UTC): '09-05-2023 9.52.24 AM'.
2023-05-09 15:22:24.774 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-09 15:22:24.793 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-09 15:22:24.799 +05:30 [DBG] Connection id "0HMQGECBDMP75" completed keep alive response.
2023-05-09 15:22:24.809 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 401 0 - 692.8371ms
2023-05-09 15:22:38.193 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102
2023-05-09 15:22:38.195 +05:30 [DBG] POST requests are not supported
2023-05-09 15:22:38.197 +05:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-09 15:22:38.200 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-09 15:22:38.202 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:22:38.212 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-09 15:22:38.216 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:22:38.610 +05:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-05-09 15:22:38.617 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:22:38.619 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:22:38.622 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:22:38.625 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:22:38.627 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:22:38.651 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 15:22:38.654 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 15:22:38.762 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 15:22:38.768 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-05-09 15:22:38.772 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-09 15:22:38.790 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-09 15:22:39.017 +05:30 [DBG] Connection id "0HMQGECBDMP75", Request id "0HMQGECBDMP75:00000003": started reading request body.
2023-05-09 15:22:39.019 +05:30 [DBG] Connection id "0HMQGECBDMP75", Request id "0HMQGECBDMP75:00000003": done reading request body.
2023-05-09 15:22:39.618 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:22:39.621 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:22:39.623 +05:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 15:22:39.642 +05:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:22:39.729 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 15:22:39.738 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 15:22:39.739 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-09 15:22:39.740 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-09 15:22:39.742 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-09 15:22:39.744 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-09 15:22:39.762 +05:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 1116.9561ms
2023-05-09 15:22:39.766 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:22:39.770 +05:30 [DBG] Connection id "0HMQGECBDMP75" completed keep alive response.
2023-05-09 15:22:39.774 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102 - 200 - text/plain;+charset=utf-8 1580.3454ms
2023-05-09 15:22:59.861 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:22:59.866 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:22:59.868 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:22:59.869 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:22:59.871 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:22:59.892 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:22:59.895 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:22:59.898 +05:30 [DBG] Authorization was successful.
2023-05-09 15:22:59.900 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:22:59.920 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:22:59.922 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:22:59.924 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:22:59.926 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:22:59.931 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:22:59.933 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:22:59.936 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:23:00.218 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:23:00.466 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:23:00.469 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:23:00.473 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:23:00.477 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:23:00.481 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:23:00.483 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:23:00.485 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:23:02.046 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:23:02.147 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 15:23:02.689 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:23:02.808 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:23:02.954 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (139ms).
2023-05-09 15:23:02.984 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:23:03.036 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:23:03.070 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:23:03.149 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:23:03.177 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:23:03.200 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:23:03.212 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:23:03.220 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:23:03.224 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:23:03.227 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:23:03.229 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 15:23:03.233 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:23:03.235 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:23:03.238 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:23:03.240 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:23:03.244 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:23:03.247 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:23:03.250 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:23:03.260 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:23:03.330 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:23:03.340 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:23:03.342 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 15:23:03.344 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:23:03.347 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:23:03.350 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:23:03.358 +05:30 [ERR] Failed executing DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:23:03.367 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:23:03.370 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:23:03.378 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:23:03.791 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3855.0664ms
2023-05-09 15:23:03.798 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:23:03.802 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method10(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:23:03.869 +05:30 [DBG] Connection id "0HMQGECBDMP75" completed keep alive response.
2023-05-09 15:23:03.880 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:23:03.893 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 4031.9830ms
2023-05-09 15:23:22.606 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities - -
2023-05-09 15:23:22.607 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:23:22.610 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-09 15:23:22.612 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-09 15:23:22.616 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 15:23:22.619 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 6.50.27 AM', Current time (UTC): '09-05-2023 9.53.22 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-09 15:23:22.623 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 6.50.27 AM', Current time (UTC): '09-05-2023 9.53.22 AM'.
2023-05-09 15:23:22.629 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-09 15:23:22.631 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-09 15:23:22.632 +05:30 [DBG] Connection id "0HMQGECBDMP75" completed keep alive response.
2023-05-09 15:23:22.633 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities - - - 401 0 - 27.6426ms
2023-05-09 15:24:30.370 +05:30 [DBG] Connection id "0HMQGECBDMP75" received FIN.
2023-05-09 15:24:30.427 +05:30 [DBG] Connection id "0HMQGECBDMP75" sending FIN because: "The client closed the connection."
2023-05-09 15:24:30.460 +05:30 [DBG] Connection id "0HMQGECBDMP75" disconnecting.
2023-05-09 15:24:30.469 +05:30 [DBG] Connection id "0HMQGECBDMP75" stopped.
2023-05-09 15:24:56.807 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:24:56.950 +05:30 [DBG] Hosting starting
2023-05-09 15:24:56.993 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:24:56.999 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:24:57.025 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:24:57.041 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:24:57.045 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:24:57.049 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:24:57.054 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:24:57.061 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:24:57.067 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:24:57.074 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:24:57.076 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:24:57.293 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:24:57.342 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:24:57.343 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:24:57.345 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:24:57.347 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:24:57.349 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:24:57.350 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:24:57.352 +05:30 [INF] Hosting environment: Development
2023-05-09 15:24:57.357 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:24:57.360 +05:30 [DBG] Hosting started
2023-05-09 15:25:38.637 +05:30 [DBG] Connection id "0HMQGEE5FQDPA" received FIN.
2023-05-09 15:25:38.701 +05:30 [DBG] Connection id "0HMQGEE5FQDPA" accepted.
2023-05-09 15:25:38.729 +05:30 [DBG] Connection id "0HMQGEE5FQDPA" started.
2023-05-09 15:25:38.750 +05:30 [DBG] Connection id "0HMQGEE5FQDPB" accepted.
2023-05-09 15:25:38.754 +05:30 [DBG] Connection id "0HMQGEE5FQDPB" started.
2023-05-09 15:25:38.811 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:25:38.936 +05:30 [DBG] Connection id "0HMQGEE5FQDPA" stopped.
2023-05-09 15:25:38.950 +05:30 [DBG] Connection id "0HMQGEE5FQDPA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:25:38.964 +05:30 [DBG] Connection 0HMQGEE5FQDPB established using the following protocol: "Tls13"
2023-05-09 15:25:39.072 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102
2023-05-09 15:25:39.120 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:25:39.198 +05:30 [DBG] POST requests are not supported
2023-05-09 15:25:39.293 +05:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-09 15:25:39.308 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-09 15:25:39.318 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:25:39.517 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-09 15:25:39.526 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:25:39.577 +05:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-05-09 15:25:39.582 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:25:39.584 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:25:39.587 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:25:39.590 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:25:39.594 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:25:39.598 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 15:25:39.603 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 15:25:39.620 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 15:25:39.631 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-05-09 15:25:39.637 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-09 15:25:39.640 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-09 15:25:39.681 +05:30 [DBG] Connection id "0HMQGEE5FQDPB", Request id "0HMQGEE5FQDPB:00000002": started reading request body.
2023-05-09 15:25:39.685 +05:30 [DBG] Connection id "0HMQGEE5FQDPB", Request id "0HMQGEE5FQDPB:00000002": done reading request body.
2023-05-09 15:25:40.133 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:25:40.136 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:25:40.139 +05:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 15:25:40.170 +05:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:25:40.556 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 15:25:40.565 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 15:25:40.568 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-09 15:25:40.571 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-09 15:25:40.576 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-09 15:25:40.578 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-09 15:25:40.604 +05:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 991.3253ms
2023-05-09 15:25:40.614 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:25:40.618 +05:30 [DBG] Connection id "0HMQGEE5FQDPB" completed keep alive response.
2023-05-09 15:25:40.623 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102 - 200 - text/plain;+charset=utf-8 1561.7492ms
2023-05-09 15:26:20.226 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities - -
2023-05-09 15:26:20.264 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:26:20.269 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-09 15:26:20.271 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-09 15:26:20.275 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 15:26:20.503 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:26:20.509 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:26:20.524 +05:30 [DBG] Authorization was successful.
2023-05-09 15:26:20.529 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 15:26:20.571 +05:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-05-09 15:26:20.578 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:26:20.582 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:26:20.586 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:26:20.594 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:26:20.596 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:26:20.599 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-05-09 15:26:21.006 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:26:21.485 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-05-09 15:26:21.489 +05:30 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-09 15:26:21.494 +05:30 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-09 15:26:21.500 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-09 15:26:21.504 +05:30 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-09 15:26:21.508 +05:30 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-09 15:26:21.513 +05:30 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-09 15:26:21.516 +05:30 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-09 15:26:21.520 +05:30 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-09 15:26:21.525 +05:30 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-09 15:26:21.528 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-09 15:26:21.534 +05:30 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-09 15:26:21.536 +05:30 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-09 15:26:21.540 +05:30 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-09 15:26:21.545 +05:30 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-09 15:26:21.548 +05:30 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-09 15:26:21.550 +05:30 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-05-09 15:26:21.555 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 15:26:21.559 +05:30 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 15:26:21.565 +05:30 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 15:26:21.622 +05:30 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-09 15:26:21.629 +05:30 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-09 15:26:21.632 +05:30 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-09 15:26:21.637 +05:30 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-05-09 15:26:21.642 +05:30 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-05-09 15:26:21.646 +05:30 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-09 15:26:21.648 +05:30 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-09 15:26:21.651 +05:30 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-09 15:26:21.655 +05:30 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-09 15:26:23.972 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:26:24.099 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-09 15:26:24.802 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:26:24.949 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:26:25.139 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (175ms).
2023-05-09 15:26:25.180 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:25.263 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:25.325 +05:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-09 15:26:25.396 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-09 15:26:25.445 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:26:25.482 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:25.513 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:25.576 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-09 15:26:25.798 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:26:25.839 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:26:25.843 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-09 15:26:25.854 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:25.859 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:25.876 +05:30 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-09 15:26:25.905 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-09 15:26:25.974 +05:30 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-09 15:26:26.029 +05:30 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-09 15:26:26.033 +05:30 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-09 15:26:26.037 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:26:26.039 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:26.047 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:26.158 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 15:26:26.166 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 15:26:26.170 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-09 15:26:26.171 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-09 15:26:26.173 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-09 15:26:26.176 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-09 15:26:26.340 +05:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5740.8133ms
2023-05-09 15:26:26.342 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-05-09 15:26:26.343 +05:30 [DBG] Connection id "0HMQGEE5FQDPB" completed keep alive response.
2023-05-09 15:26:26.358 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:26:26.395 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities - - - 200 247 application/json;+charset=utf-8 6168.5088ms
2023-05-09 15:26:57.257 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:26:57.268 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:26:57.271 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:26:57.273 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:26:57.277 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:26:57.284 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:26:57.286 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:26:57.288 +05:30 [DBG] Authorization was successful.
2023-05-09 15:26:57.291 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:26:57.305 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:26:57.309 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:26:57.311 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:26:57.315 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:26:57.320 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:26:57.323 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:26:57.326 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:26:57.355 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:26:57.359 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:26:57.363 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:26:57.371 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:26:57.375 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:26:57.377 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:26:57.381 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:26:57.405 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:26:57.418 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 15:26:57.511 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:26:57.602 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:26:57.604 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:26:57.606 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:57.608 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:57.610 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:26:57.619 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:26:57.625 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:26:57.627 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:57.629 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:57.636 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:26:57.641 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:26:57.646 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:26:57.648 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:26:57.651 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:57.656 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:57.659 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:26:57.663 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:26:57.671 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:26:57.673 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:57.676 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:57.691 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:26:57.704 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:26:57.711 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:26:57.715 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-09 15:26:57.724 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:57.726 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:57.728 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:26:57.760 +05:30 [ERR] Failed executing DbCommand (37ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:26:57.776 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:26:57.779 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:26:57.803 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:26:58.157 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 831.1043ms
2023-05-09 15:26:58.164 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:26:58.170 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method74(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:26:58.261 +05:30 [DBG] Connection id "0HMQGEE5FQDPB" completed keep alive response.
2023-05-09 15:26:58.263 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:26:58.272 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 1014.2408ms
2023-05-09 15:35:04.059 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:35:04.240 +05:30 [DBG] Hosting starting
2023-05-09 15:35:04.311 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:35:04.318 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:35:04.339 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:35:04.360 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:35:04.364 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:35:04.370 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:35:04.373 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:35:04.380 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:35:04.385 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:35:04.389 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:35:04.392 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:35:04.693 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:35:04.742 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:35:04.744 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:35:04.745 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:35:04.746 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:35:04.747 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:35:04.750 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:35:04.751 +05:30 [INF] Hosting environment: Development
2023-05-09 15:35:04.753 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:35:04.754 +05:30 [DBG] Hosting started
2023-05-09 15:35:13.938 +05:30 [DBG] Connection id "0HMQGEJGUAD04" received FIN.
2023-05-09 15:35:13.955 +05:30 [DBG] Connection id "0HMQGEJGUAD04" accepted.
2023-05-09 15:35:13.959 +05:30 [DBG] Connection id "0HMQGEJGUAD04" started.
2023-05-09 15:35:13.962 +05:30 [DBG] Connection id "0HMQGEJGUAD05" accepted.
2023-05-09 15:35:13.969 +05:30 [DBG] Connection id "0HMQGEJGUAD05" started.
2023-05-09 15:35:14.006 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:35:14.130 +05:30 [DBG] Connection id "0HMQGEJGUAD04" stopped.
2023-05-09 15:35:14.139 +05:30 [DBG] Connection id "0HMQGEJGUAD04" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:35:14.144 +05:30 [DBG] Connection 0HMQGEJGUAD05 established using the following protocol: "Tls13"
2023-05-09 15:35:14.263 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:35:14.305 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:35:14.441 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:35:14.557 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:35:14.570 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:35:14.727 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:35:16.829 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:35:17.027 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:35:17.050 +05:30 [DBG] Authorization was successful.
2023-05-09 15:35:17.067 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:35:17.243 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:35:17.254 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:35:17.256 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:35:17.263 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:35:17.272 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:35:17.291 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:35:17.306 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:35:18.355 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:35:18.935 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:35:18.953 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:35:18.961 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:35:18.969 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:35:18.973 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:35:18.976 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:35:18.985 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:35:21.481 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:35:21.636 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 15:35:22.470 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:35:22.643 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:35:22.836 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (178ms).
2023-05-09 15:35:22.880 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:22.955 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:23.021 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:35:23.106 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:35:23.140 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:35:23.159 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:23.177 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:23.189 +05:30 [INF] Executing ForbidResult with authentication schemes ([]).
2023-05-09 15:35:23.202 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-09 15:35:23.217 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5900.9144ms
2023-05-09 15:35:23.222 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:35:23.237 +05:30 [DBG] Connection id "0HMQGEJGUAD05" completed keep alive response.
2023-05-09 15:35:23.257 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:35:23.272 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 403 0 - 9019.8700ms
2023-05-09 15:35:34.243 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - -
2023-05-09 15:35:34.245 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:35:34.250 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:35:34.253 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:35:34.255 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:35:34.260 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:35:34.262 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:35:34.266 +05:30 [DBG] Authorization was successful.
2023-05-09 15:35:34.268 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:35:34.271 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:35:34.276 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:35:34.279 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:35:34.284 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:35:34.288 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:35:34.291 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:35:34.295 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:35:34.327 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:35:34.341 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:35:34.343 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:35:34.346 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:35:34.350 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:35:34.352 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:35:34.354 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:35:34.358 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:35:34.373 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:35:34.376 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:35:34.377 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:34.379 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:34.384 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:35:34.387 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:35:34.393 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:35:34.394 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:34.402 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:34.408 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:35:34.419 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:35:34.422 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:35:34.425 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:35:34.427 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:34.433 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:34.436 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:35:34.445 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:35:34.453 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:35:34.454 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:34.456 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:34.477 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:35:34.588 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:35:34.611 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:35:34.615 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-09 15:35:34.618 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:34.621 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:34.625 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:35:34.644 +05:30 [ERR] Failed executing DbCommand (27ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:35:34.659 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:35:34.661 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:35:34.678 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:35:35.010 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 715.0954ms
2023-05-09 15:35:35.018 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:35:35.022 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:35:35.122 +05:30 [DBG] Connection id "0HMQGEJGUAD05" completed keep alive response.
2023-05-09 15:35:35.125 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:35:35.127 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - - - 500 - text/plain;+charset=utf-8 884.1538ms
2023-05-09 15:36:19.271 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - -
2023-05-09 15:36:19.278 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:36:19.280 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:36:19.283 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:36:19.286 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:36:19.289 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:36:19.293 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:36:19.297 +05:30 [DBG] Authorization was successful.
2023-05-09 15:36:19.300 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:36:19.301 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:36:19.306 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:36:19.312 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:36:19.315 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:36:19.319 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:36:19.321 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:36:19.324 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:36:19.332 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:36:19.335 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:36:19.337 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:36:19.339 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:36:19.346 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:36:19.348 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:36:19.350 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:36:19.497 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:36:19.504 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:36:19.508 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-09 15:36:19.511 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:36:19.515 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:36:19.517 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:36:19.525 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:36:19.530 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:36:19.532 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:36:19.536 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:36:19.543 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:36:19.546 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:36:19.549 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:36:19.552 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:36:19.555 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:36:19.561 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:36:19.566 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:36:19.569 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:36:19.572 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:36:19.578 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:36:19.581 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:36:19.585 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:36:19.587 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:36:19.594 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:36:19.599 +05:30 [ERR] Failed executing DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:36:19.604 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:36:19.611 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:36:19.616 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:36:19.819 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 495.2735ms
2023-05-09 15:36:19.823 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:36:19.828 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:36:19.872 +05:30 [DBG] Connection id "0HMQGEJGUAD05" completed keep alive response.
2023-05-09 15:36:19.880 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:36:19.888 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - - - 500 - text/plain;+charset=utf-8 622.1403ms
2023-05-09 15:36:51.418 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:36:51.631 +05:30 [DBG] Hosting starting
2023-05-09 15:36:51.693 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:36:51.698 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:36:51.715 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:36:51.732 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:36:51.737 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:36:51.742 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:36:51.747 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:36:51.755 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:36:51.760 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:36:51.770 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:36:51.773 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:36:52.046 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:36:52.107 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:36:52.110 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:36:52.112 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:36:52.113 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:36:52.115 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:36:52.118 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:36:52.119 +05:30 [INF] Hosting environment: Development
2023-05-09 15:36:52.121 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:36:52.123 +05:30 [DBG] Hosting started
2023-05-09 15:36:59.235 +05:30 [DBG] Connection id "0HMQGEKGAGD9I" received FIN.
2023-05-09 15:36:59.263 +05:30 [DBG] Connection id "0HMQGEKGAGD9I" accepted.
2023-05-09 15:36:59.270 +05:30 [DBG] Connection id "0HMQGEKGAGD9I" started.
2023-05-09 15:36:59.282 +05:30 [DBG] Connection id "0HMQGEKGAGD9J" accepted.
2023-05-09 15:36:59.283 +05:30 [DBG] Connection id "0HMQGEKGAGD9J" started.
2023-05-09 15:36:59.328 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:36:59.550 +05:30 [DBG] Connection id "0HMQGEKGAGD9I" stopped.
2023-05-09 15:36:59.572 +05:30 [DBG] Connection 0HMQGEKGAGD9J established using the following protocol: "Tls13"
2023-05-09 15:36:59.572 +05:30 [DBG] Connection id "0HMQGEKGAGD9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:36:59.762 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - -
2023-05-09 15:36:59.840 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:36:59.967 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:37:00.111 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:37:00.131 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:37:00.139 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:37:00.926 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:37:00.930 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:37:00.948 +05:30 [DBG] Authorization was successful.
2023-05-09 15:37:00.955 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:37:01.064 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:37:01.071 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:37:01.074 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:37:01.077 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:37:01.081 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:37:01.085 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:37:01.090 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:37:01.437 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:37:01.962 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:37:01.979 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:37:01.989 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:37:01.993 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:37:01.996 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:37:01.998 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:37:02.008 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:37:04.310 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:37:04.462 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 15:37:05.203 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:37:05.428 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:37:05.588 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (154ms).
2023-05-09 15:37:05.633 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:37:05.689 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:37:05.742 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:37:05.837 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:37:05.872 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:37:05.897 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:37:05.917 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:37:05.927 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:37:05.937 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:37:05.941 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:37:05.944 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:37:05.947 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:37:05.950 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:37:05.955 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:37:05.972 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:37:05.979 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:37:05.980 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:37:05.983 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:37:06.025 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:37:06.122 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:37:06.141 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:37:06.144 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:37:06.146 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:37:06.149 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:37:06.152 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:37:06.172 +05:30 [ERR] Failed executing DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:37:06.183 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:37:06.194 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:37:06.213 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:37:06.719 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5611.4578ms
2023-05-09 15:37:06.726 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:37:06.731 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:37:06.858 +05:30 [DBG] Connection id "0HMQGEKGAGD9J" completed keep alive response.
2023-05-09 15:37:06.879 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:37:06.897 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - - - 500 - text/plain;+charset=utf-8 7152.3568ms
2023-05-09 15:38:53.601 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:38:53.816 +05:30 [DBG] Hosting starting
2023-05-09 15:38:53.881 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:38:53.890 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:38:53.908 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:38:53.930 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:38:53.935 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:38:53.942 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:38:53.945 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:38:53.952 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:38:53.958 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:38:53.964 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:38:53.967 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:38:54.196 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:38:54.246 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:38:54.257 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:38:54.258 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:38:54.260 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:38:54.261 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:38:54.264 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:38:54.265 +05:30 [INF] Hosting environment: Development
2023-05-09 15:38:54.269 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:38:54.272 +05:30 [DBG] Hosting started
2023-05-09 15:39:01.324 +05:30 [DBG] Connection id "0HMQGELKMR6SA" received FIN.
2023-05-09 15:39:01.365 +05:30 [DBG] Connection id "0HMQGELKMR6SA" accepted.
2023-05-09 15:39:01.377 +05:30 [DBG] Connection id "0HMQGELKMR6SA" started.
2023-05-09 15:39:01.378 +05:30 [DBG] Connection id "0HMQGELKMR6SB" accepted.
2023-05-09 15:39:01.381 +05:30 [DBG] Connection id "0HMQGELKMR6SB" started.
2023-05-09 15:39:01.431 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:39:01.582 +05:30 [DBG] Connection id "0HMQGELKMR6SA" stopped.
2023-05-09 15:39:01.600 +05:30 [DBG] Connection id "0HMQGELKMR6SA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:39:01.630 +05:30 [DBG] Connection 0HMQGELKMR6SB established using the following protocol: "Tls13"
2023-05-09 15:39:01.759 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - -
2023-05-09 15:39:01.797 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:39:01.933 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:39:02.039 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:39:02.055 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:39:02.060 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:39:02.900 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:39:02.906 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:39:02.932 +05:30 [DBG] Authorization was successful.
2023-05-09 15:39:02.937 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:39:03.034 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:39:03.039 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:39:03.041 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:39:03.043 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:39:03.045 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:39:03.047 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:39:03.050 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:39:03.479 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:39:03.940 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:39:03.949 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:39:03.956 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:39:03.962 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:39:03.965 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:39:03.970 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:39:03.976 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:39:15.178 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:39:15.338 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 15:39:16.164 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:39:16.355 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:39:16.508 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (144ms).
2023-05-09 15:39:16.555 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:39:16.598 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:39:16.651 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:39:16.739 +05:30 [INF] Executed DbCommand (108ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:39:16.769 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:39:16.798 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:39:16.825 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:39:31.289 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:39:31.297 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:39:31.303 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:39:31.305 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 15:39:31.308 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:39:31.311 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:39:31.318 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:39:31.322 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:39:31.326 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:39:31.328 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:39:31.335 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:39:44.050 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:39:44.162 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:39:44.194 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:39:44.196 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 15:39:44.201 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:39:44.206 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:39:44.211 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:39:44.241 +05:30 [ERR] Failed executing DbCommand (32ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:39:44.252 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:39:44.254 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:39:44.267 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:39:44.507 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 41444.1567ms
2023-05-09 15:39:44.521 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:39:44.539 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:39:44.622 +05:30 [DBG] Connection id "0HMQGELKMR6SB" completed keep alive response.
2023-05-09 15:39:44.654 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:39:44.671 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - - - 500 - text/plain;+charset=utf-8 42920.9292ms
2023-05-09 15:40:29.956 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:40:29.961 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:40:29.964 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:40:29.966 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:40:29.967 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:40:29.970 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:40:29.971 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:40:29.974 +05:30 [DBG] Authorization was successful.
2023-05-09 15:40:29.977 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:40:29.979 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:40:29.981 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:40:29.983 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:40:29.985 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:40:29.987 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:40:29.989 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:40:29.995 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:40:30.027 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:40:30.033 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:40:30.036 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:40:30.039 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:40:30.043 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:40:30.049 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:40:30.050 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:40:34.061 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:40:34.072 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:40:34.077 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-09 15:40:34.079 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:40:34.080 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:40:34.084 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:40:34.086 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:40:34.094 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:40:34.095 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:40:34.099 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:40:34.105 +05:30 [INF] Executing ForbidResult with authentication schemes ([]).
2023-05-09 15:40:34.118 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-09 15:40:34.120 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 4125.3516ms
2023-05-09 15:40:34.122 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:40:34.129 +05:30 [DBG] Connection id "0HMQGELKMR6SB" completed keep alive response.
2023-05-09 15:40:34.131 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:40:34.134 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 403 0 - 4178.3041ms
2023-05-09 15:44:19.978 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:44:20.159 +05:30 [DBG] Hosting starting
2023-05-09 15:44:20.218 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:44:20.224 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:44:20.242 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:44:20.264 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:44:20.268 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:44:20.273 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:44:20.276 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:44:20.287 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:44:20.291 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:44:20.304 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:44:20.307 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:44:20.540 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:44:20.583 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:44:20.585 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:44:20.587 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:44:20.589 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:44:20.590 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:44:20.592 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:44:20.593 +05:30 [INF] Hosting environment: Development
2023-05-09 15:44:20.594 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:44:20.596 +05:30 [DBG] Hosting started
2023-05-09 15:44:31.286 +05:30 [DBG] Connection id "0HMQGEON1JHCF" received FIN.
2023-05-09 15:44:31.313 +05:30 [DBG] Connection id "0HMQGEON1JHCF" accepted.
2023-05-09 15:44:31.319 +05:30 [DBG] Connection id "0HMQGEON1JHCF" started.
2023-05-09 15:44:31.325 +05:30 [DBG] Connection id "0HMQGEON1JHCG" accepted.
2023-05-09 15:44:31.329 +05:30 [DBG] Connection id "0HMQGEON1JHCG" started.
2023-05-09 15:44:31.362 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:44:31.486 +05:30 [DBG] Connection id "0HMQGEON1JHCF" stopped.
2023-05-09 15:44:31.491 +05:30 [DBG] Connection id "0HMQGEON1JHCF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:44:31.519 +05:30 [DBG] Connection 0HMQGEON1JHCG established using the following protocol: "Tls13"
2023-05-09 15:44:31.615 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102
2023-05-09 15:44:31.646 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:44:31.702 +05:30 [DBG] POST requests are not supported
2023-05-09 15:44:31.765 +05:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-09 15:44:31.774 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-09 15:44:31.779 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:44:31.985 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-09 15:44:31.995 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:44:32.048 +05:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-05-09 15:44:32.054 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:44:32.058 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:44:32.065 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:44:32.070 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:44:32.073 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:44:32.081 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 15:44:32.085 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 15:44:32.100 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 15:44:32.114 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-05-09 15:44:32.118 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-09 15:44:32.122 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-09 15:44:32.151 +05:30 [DBG] Connection id "0HMQGEON1JHCG", Request id "0HMQGEON1JHCG:00000002": started reading request body.
2023-05-09 15:44:32.154 +05:30 [DBG] Connection id "0HMQGEON1JHCG", Request id "0HMQGEON1JHCG:00000002": done reading request body.
2023-05-09 15:44:32.541 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:44:32.550 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:44:32.554 +05:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 15:44:32.591 +05:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 15:44:32.943 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 15:44:32.954 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 15:44:32.957 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-09 15:44:32.959 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-09 15:44:32.963 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-09 15:44:32.968 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-09 15:44:33.002 +05:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 906.2204ms
2023-05-09 15:44:33.006 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 15:44:33.008 +05:30 [DBG] Connection id "0HMQGEON1JHCG" completed keep alive response.
2023-05-09 15:44:33.016 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102 - 200 - text/plain;+charset=utf-8 1411.5523ms
2023-05-09 15:45:18.364 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - -
2023-05-09 15:45:18.400 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:45:18.406 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:45:18.411 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-09 15:45:18.415 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:45:18.625 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:45:18.630 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:45:18.649 +05:30 [DBG] Authorization was successful.
2023-05-09 15:45:18.655 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:45:18.685 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:45:18.692 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:45:18.694 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:45:18.696 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:45:18.700 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:45:18.707 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:45:18.708 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:45:19.068 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:45:19.534 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:45:19.538 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:45:19.541 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:45:19.545 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:45:19.547 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:45:19.549 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:45:19.551 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:45:25.138 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:45:25.281 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 15:45:26.034 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:45:26.225 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:45:26.362 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (123ms).
2023-05-09 15:45:26.401 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:45:26.451 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:45:26.499 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:45:26.579 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:45:26.617 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:45:26.647 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:45:26.667 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:45:26.677 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:45:26.684 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:45:26.690 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:45:26.694 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-09 15:45:26.696 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:45:26.698 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:45:26.699 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:45:26.701 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:45:26.708 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:45:26.710 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:45:26.712 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:45:26.745 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:45:26.874 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:45:26.895 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:45:26.898 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:45:26.900 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:45:26.906 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:45:26.908 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:45:26.925 +05:30 [ERR] Failed executing DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:45:26.933 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:45:26.935 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:45:26.948 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:45:27.066 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 8358.0334ms
2023-05-09 15:45:27.071 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:45:27.077 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method10(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:45:27.145 +05:30 [DBG] Connection id "0HMQGEON1JHCG" completed keep alive response.
2023-05-09 15:45:27.161 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:45:27.167 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - - - 500 - text/plain;+charset=utf-8 8803.3613ms
2023-05-09 15:46:54.529 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:46:54.723 +05:30 [DBG] Hosting starting
2023-05-09 15:46:54.794 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:46:54.800 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:46:54.818 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:46:54.845 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:46:54.850 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:46:54.860 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:46:54.865 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:46:54.876 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:46:54.881 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:46:54.889 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:46:54.893 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:46:55.224 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:46:55.278 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:46:55.296 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:46:55.298 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:46:55.300 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:46:55.306 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:46:55.307 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:46:55.309 +05:30 [INF] Hosting environment: Development
2023-05-09 15:46:55.310 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:46:55.313 +05:30 [DBG] Hosting started
2023-05-09 15:46:58.394 +05:30 [DBG] Connection id "0HMQGEQ2SHH21" received FIN.
2023-05-09 15:46:58.405 +05:30 [DBG] Connection id "0HMQGEQ2SHH21" accepted.
2023-05-09 15:46:58.412 +05:30 [DBG] Connection id "0HMQGEQ2SHH21" started.
2023-05-09 15:46:58.414 +05:30 [DBG] Connection id "0HMQGEQ2SHH22" accepted.
2023-05-09 15:46:58.415 +05:30 [DBG] Connection id "0HMQGEQ2SHH22" started.
2023-05-09 15:46:58.433 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:46:58.515 +05:30 [DBG] Connection id "0HMQGEQ2SHH21" stopped.
2023-05-09 15:46:58.520 +05:30 [DBG] Connection id "0HMQGEQ2SHH21" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:46:58.537 +05:30 [DBG] Connection 0HMQGEQ2SHH22 established using the following protocol: "Tls13"
2023-05-09 15:46:58.617 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:46:58.635 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:46:58.697 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:46:58.744 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:46:58.751 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:46:58.755 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:46:59.252 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:46:59.254 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:46:59.267 +05:30 [DBG] Authorization was successful.
2023-05-09 15:46:59.271 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:46:59.318 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:46:59.322 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:46:59.327 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:46:59.329 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:46:59.333 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:46:59.335 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:46:59.339 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:46:59.543 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:46:59.820 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:46:59.831 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:46:59.835 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:46:59.838 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:46:59.845 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:46:59.847 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:46:59.851 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:47:01.166 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:47:01.244 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:47:01.655 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:47:01.733 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:47:01.848 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (108ms).
2023-05-09 15:47:01.878 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:47:01.913 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:47:01.944 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:47:02.013 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:47:02.030 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:47:02.043 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:47:02.050 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:47:02.065 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:47:02.121 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:47:02.136 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:47:02.138 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 15:47:02.141 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:47:02.144 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:47:02.147 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:47:02.160 +05:30 [ERR] Failed executing DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:47:02.167 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:47:02.170 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:47:02.189 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:47:02.602 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3259.4833ms
2023-05-09 15:47:02.609 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:47:02.613 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:47:02.670 +05:30 [DBG] Connection id "0HMQGEQ2SHH22" completed keep alive response.
2023-05-09 15:47:02.682 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:47:02.694 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 4080.5061ms
2023-05-09 15:47:58.744 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:47:58.928 +05:30 [DBG] Hosting starting
2023-05-09 15:47:58.986 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:47:58.993 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:47:59.010 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:47:59.034 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:47:59.039 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:47:59.044 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:47:59.047 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:47:59.056 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:47:59.061 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:47:59.069 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:47:59.072 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:47:59.303 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:47:59.364 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:47:59.368 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:47:59.370 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:47:59.371 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:47:59.373 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:47:59.375 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:47:59.376 +05:30 [INF] Hosting environment: Development
2023-05-09 15:47:59.377 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:47:59.378 +05:30 [DBG] Hosting started
2023-05-09 15:48:10.125 +05:30 [DBG] Connection id "0HMQGEQO8K054" received FIN.
2023-05-09 15:48:10.140 +05:30 [DBG] Connection id "0HMQGEQO8K054" accepted.
2023-05-09 15:48:10.143 +05:30 [DBG] Connection id "0HMQGEQO8K054" started.
2023-05-09 15:48:10.145 +05:30 [DBG] Connection id "0HMQGEQO8K055" accepted.
2023-05-09 15:48:10.147 +05:30 [DBG] Connection id "0HMQGEQO8K055" started.
2023-05-09 15:48:10.172 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:48:10.230 +05:30 [DBG] Connection id "0HMQGEQO8K054" stopped.
2023-05-09 15:48:10.235 +05:30 [DBG] Connection id "0HMQGEQO8K054" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:48:10.247 +05:30 [DBG] Connection 0HMQGEQO8K055 established using the following protocol: "Tls13"
2023-05-09 15:48:10.292 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:48:10.310 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:48:10.370 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:48:10.417 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:48:10.424 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:48:10.426 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:48:10.912 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:48:10.917 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:48:10.928 +05:30 [DBG] Authorization was successful.
2023-05-09 15:48:10.932 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:48:10.970 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:48:10.974 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:48:10.977 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:48:10.979 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:48:10.983 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:48:10.985 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:48:10.988 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:48:11.179 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:48:11.431 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:48:11.437 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:48:11.442 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:48:11.447 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:48:11.449 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:48:11.453 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:48:11.460 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:48:12.670 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:48:12.749 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:48:13.151 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:48:13.248 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:48:13.355 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (103ms).
2023-05-09 15:48:13.375 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:48:13.403 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:48:13.424 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:48:13.483 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:48:13.503 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:48:13.519 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:48:13.530 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:48:13.543 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:48:13.601 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:48:13.612 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:48:13.614 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:48:13.616 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:48:13.619 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:48:13.622 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:48:13.635 +05:30 [ERR] Failed executing DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:48:13.641 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:48:13.645 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:48:13.659 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:48:13.999 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 3002.8821ms
2023-05-09 15:48:14.003 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:48:14.006 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:48:14.062 +05:30 [DBG] Connection id "0HMQGEQO8K055" completed keep alive response.
2023-05-09 15:48:14.076 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:48:14.105 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 3815.2347ms
2023-05-09 15:51:50.829 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:51:51.033 +05:30 [DBG] Hosting starting
2023-05-09 15:51:51.090 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:51:51.097 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:51:51.121 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:51:51.149 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:51:51.154 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:51:51.159 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:51:51.162 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:51:51.169 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:51:51.174 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:51:51.180 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:51:51.182 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:51:51.343 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:51:51.385 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:51:51.387 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:51:51.389 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:51:51.391 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:51:51.392 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:51:51.394 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:51:51.396 +05:30 [INF] Hosting environment: Development
2023-05-09 15:51:51.398 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:51:51.400 +05:30 [DBG] Hosting started
2023-05-09 15:52:39.935 +05:30 [DBG] Connection id "0HMQGET8LN7FD" received FIN.
2023-05-09 15:52:39.971 +05:30 [DBG] Connection id "0HMQGET8LN7FD" accepted.
2023-05-09 15:52:39.984 +05:30 [DBG] Connection id "0HMQGET8LN7FD" started.
2023-05-09 15:52:39.987 +05:30 [DBG] Connection id "0HMQGET8LN7FE" accepted.
2023-05-09 15:52:39.990 +05:30 [DBG] Connection id "0HMQGET8LN7FE" started.
2023-05-09 15:52:40.066 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:52:40.172 +05:30 [DBG] Connection id "0HMQGET8LN7FD" stopped.
2023-05-09 15:52:40.192 +05:30 [DBG] Connection id "0HMQGET8LN7FD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:52:40.239 +05:30 [DBG] Connection 0HMQGET8LN7FE established using the following protocol: "Tls13"
2023-05-09 15:52:40.350 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:52:40.382 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:52:40.474 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:52:40.556 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:52:40.566 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:52:40.571 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:52:41.335 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:52:41.339 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:52:41.370 +05:30 [DBG] Authorization was successful.
2023-05-09 15:52:41.398 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:52:41.485 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:52:41.490 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:52:41.494 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:52:41.497 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:52:41.501 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:52:41.505 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:52:41.509 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:52:41.855 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:52:42.372 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:52:42.388 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:52:42.393 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:52:42.400 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:52:42.403 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:52:42.406 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:52:42.418 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:52:44.749 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:52:44.905 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:52:45.670 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:52:45.834 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:52:46.031 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (183ms).
2023-05-09 15:52:46.057 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:52:46.109 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:52:46.155 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:52:46.239 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:52:46.271 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:52:46.305 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:52:46.325 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:52:46.354 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:52:46.461 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:52:46.486 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:52:46.489 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-09 15:52:46.494 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:52:46.502 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:52:46.506 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:52:46.525 +05:30 [ERR] Failed executing DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:52:46.538 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:52:46.541 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:52:46.559 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:52:47.005 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5482.407ms
2023-05-09 15:52:47.014 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:52:47.020 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 74
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:52:47.125 +05:30 [DBG] Connection id "0HMQGET8LN7FE" completed keep alive response.
2023-05-09 15:52:47.147 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:52:47.166 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 6825.2151ms
2023-05-09 15:55:21.551 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:55:21.764 +05:30 [DBG] Hosting starting
2023-05-09 15:55:21.841 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:55:21.848 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:55:21.868 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:55:21.897 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:55:21.902 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:55:21.913 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:55:21.916 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:55:21.924 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:55:21.932 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:55:21.940 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:55:21.948 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:55:22.195 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:55:22.269 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:55:22.272 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:55:22.273 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:55:22.275 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:55:22.276 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:55:22.278 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:55:22.279 +05:30 [INF] Hosting environment: Development
2023-05-09 15:55:22.280 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:55:22.282 +05:30 [DBG] Hosting started
2023-05-09 15:55:49.248 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:55:49.544 +05:30 [DBG] Hosting starting
2023-05-09 15:55:49.663 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:55:49.672 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:55:49.690 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:55:49.713 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:55:49.719 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:55:49.727 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:55:49.730 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:55:49.740 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:55:49.747 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:55:49.759 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:55:49.762 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:55:50.038 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:55:50.093 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:55:50.112 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:55:50.113 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:55:50.116 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:55:50.117 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:55:50.119 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:55:50.120 +05:30 [INF] Hosting environment: Development
2023-05-09 15:55:50.121 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:55:50.123 +05:30 [DBG] Hosting started
2023-05-09 15:55:52.345 +05:30 [DBG] Connection id "0HMQGEV20M8EP" received FIN.
2023-05-09 15:55:52.361 +05:30 [DBG] Connection id "0HMQGEV20M8EP" accepted.
2023-05-09 15:55:52.366 +05:30 [DBG] Connection id "0HMQGEV20M8EP" started.
2023-05-09 15:55:52.368 +05:30 [DBG] Connection id "0HMQGEV20M8EQ" accepted.
2023-05-09 15:55:52.369 +05:30 [DBG] Connection id "0HMQGEV20M8EQ" started.
2023-05-09 15:55:52.388 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:55:52.456 +05:30 [DBG] Connection id "0HMQGEV20M8EP" stopped.
2023-05-09 15:55:52.459 +05:30 [DBG] Connection id "0HMQGEV20M8EP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:55:52.469 +05:30 [DBG] Connection 0HMQGEV20M8EQ established using the following protocol: "Tls13"
2023-05-09 15:55:52.518 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/4/pointsofinterest - -
2023-05-09 15:55:52.536 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:55:52.591 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:55:52.633 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2023-05-09 15:55:52.641 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2023-05-09 15:55:52.644 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:55:52.760 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-09 15:55:52.776 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-09 15:55:52.793 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-09 15:55:52.802 +05:30 [DBG] Connection id "0HMQGEV20M8EQ" completed keep alive response.
2023-05-09 15:55:52.809 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/4/pointsofinterest - - - 401 0 - 294.7545ms
2023-05-09 15:56:09.143 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/4/pointsofinterest - -
2023-05-09 15:56:09.145 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:56:09.148 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2023-05-09 15:56:09.150 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2023-05-09 15:56:09.155 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:56:09.456 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:56:09.459 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:56:09.462 +05:30 [DBG] Authorization was successful.
2023-05-09 15:56:09.464 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:56:09.511 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:56:09.516 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:56:09.522 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:56:09.525 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:56:09.529 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:56:09.533 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:56:09.537 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:56:09.799 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:56:10.046 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:56:10.055 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:56:10.059 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:56:10.063 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:56:10.065 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:56:10.070 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:56:10.075 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:56:11.290 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:56:11.374 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 15:56:11.759 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:56:11.852 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:56:11.994 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (135ms).
2023-05-09 15:56:12.023 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:56:12.047 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:56:12.074 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:56:12.126 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 15:56:12.149 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:56:12.169 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:56:12.189 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:56:12.196 +05:30 [INF] Executing ForbidResult with authentication schemes ([]).
2023-05-09 15:56:12.204 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-09 15:56:12.215 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 2670.2667ms
2023-05-09 15:56:12.220 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:56:12.223 +05:30 [DBG] Connection id "0HMQGEV20M8EQ" completed keep alive response.
2023-05-09 15:56:12.232 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:56:12.248 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/4/pointsofinterest - - - 403 0 - 3104.9013ms
2023-05-09 15:56:44.022 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 15:56:44.228 +05:30 [DBG] Hosting starting
2023-05-09 15:56:44.292 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 15:56:44.299 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 15:56:44.318 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 15:56:44.336 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 15:56:44.342 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:56:44.347 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 15:56:44.350 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 15:56:44.358 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 15:56:44.362 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 15:56:44.367 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 15:56:44.369 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 15:56:44.538 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 15:56:44.585 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 15:56:44.589 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 15:56:44.591 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 15:56:44.592 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 15:56:44.593 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 15:56:44.595 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 15:56:44.596 +05:30 [INF] Hosting environment: Development
2023-05-09 15:56:44.599 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 15:56:44.601 +05:30 [DBG] Hosting started
2023-05-09 15:56:53.487 +05:30 [DBG] Connection id "0HMQGEVK7PB6D" received FIN.
2023-05-09 15:56:53.519 +05:30 [DBG] Connection id "0HMQGEVK7PB6D" accepted.
2023-05-09 15:56:53.523 +05:30 [DBG] Connection id "0HMQGEVK7PB6D" started.
2023-05-09 15:56:53.533 +05:30 [DBG] Connection id "0HMQGEVK7PB6E" accepted.
2023-05-09 15:56:53.536 +05:30 [DBG] Connection id "0HMQGEVK7PB6E" started.
2023-05-09 15:56:53.578 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 15:56:53.678 +05:30 [DBG] Connection id "0HMQGEVK7PB6D" stopped.
2023-05-09 15:56:53.687 +05:30 [DBG] Connection id "0HMQGEVK7PB6D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 15:56:53.713 +05:30 [DBG] Connection 0HMQGEVK7PB6E established using the following protocol: "Tls13"
2023-05-09 15:56:53.820 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/4/pointsofinterest - -
2023-05-09 15:56:53.853 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 15:56:53.987 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:56:54.089 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2023-05-09 15:56:54.101 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2023-05-09 15:56:54.104 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:56:54.859 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:56:54.865 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:56:54.886 +05:30 [DBG] Authorization was successful.
2023-05-09 15:56:54.893 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:56:54.985 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:56:54.992 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:56:54.997 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:56:55.002 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:56:55.007 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:56:55.013 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:56:55.021 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:56:55.397 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 15:56:55.888 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:56:55.913 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:56:55.925 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:56:55.931 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:56:55.935 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:56:55.938 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:56:55.947 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:56:58.286 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:56:58.425 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 15:56:59.209 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 15:56:59.409 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:56:59.554 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (135ms).
2023-05-09 15:56:59.600 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:56:59.635 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:56:59.687 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:56:59.802 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:56:59.871 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:56:59.909 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:56:59.943 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:56:59.947 +05:30 [INF] City with Id 4 wasn't found when accessing points of interest.
2023-05-09 15:56:59.955 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 15:56:59.969 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 15:56:59.975 +05:30 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-09 15:56:59.983 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-09 15:56:59.989 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-09 15:57:00.462 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5422.5291ms
2023-05-09 15:57:00.467 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:57:00.469 +05:30 [DBG] Connection id "0HMQGEVK7PB6E" completed keep alive response.
2023-05-09 15:57:00.491 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:57:00.509 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/4/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 6698.6331ms
2023-05-09 15:57:20.932 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 15:57:20.933 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 15:57:20.936 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:57:20.939 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 15:57:20.946 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:57:20.950 +05:30 [DBG] Successfully validated the token.
2023-05-09 15:57:20.951 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 15:57:20.953 +05:30 [DBG] Authorization was successful.
2023-05-09 15:57:20.955 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:57:20.957 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 15:57:20.965 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 15:57:20.967 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 15:57:20.969 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 15:57:20.973 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 15:57:20.983 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 15:57:20.986 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:57:21.024 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 15:57:21.029 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:57:21.031 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 15:57:21.033 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:57:21.035 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:57:21.039 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 15:57:21.043 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 15:57:21.049 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 15:57:21.070 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:57:21.073 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 15:57:21.079 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:57:21.082 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:57:21.087 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:57:21.095 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 15:57:21.101 +05:30 [DBG] A data reader was disposed.
2023-05-09 15:57:21.103 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:57:21.105 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:57:21.137 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 15:57:21.241 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 15:57:21.270 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 15:57:21.275 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-09 15:57:21.278 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:57:21.282 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:57:21.286 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:57:21.307 +05:30 [ERR] Failed executing DbCommand (29ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 15:57:21.319 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 15:57:21.320 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 15:57:21.338 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 15:57:21.683 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 697.0248ms
2023-05-09 15:57:21.687 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 15:57:21.695 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 74
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 15:57:21.767 +05:30 [DBG] Connection id "0HMQGEVK7PB6E" completed keep alive response.
2023-05-09 15:57:21.769 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 15:57:21.772 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 839.9891ms
2023-05-09 16:08:38.155 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 16:08:38.335 +05:30 [DBG] Hosting starting
2023-05-09 16:08:38.402 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 16:08:38.408 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 16:08:38.423 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 16:08:38.441 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 16:08:38.445 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 16:08:38.450 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 16:08:38.452 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 16:08:38.462 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 16:08:38.481 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 16:08:38.499 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 16:08:38.501 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 16:08:38.676 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 16:08:38.726 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 16:08:38.728 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 16:08:38.730 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 16:08:38.731 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 16:08:38.733 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 16:08:38.734 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 16:08:38.736 +05:30 [INF] Hosting environment: Development
2023-05-09 16:08:38.737 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 16:08:38.738 +05:30 [DBG] Hosting started
2023-05-09 16:09:20.002 +05:30 [DBG] Connection id "0HMQGF6IN3GPI" received FIN.
2023-05-09 16:09:20.096 +05:30 [DBG] Connection id "0HMQGF6IN3GPI" accepted.
2023-05-09 16:09:20.108 +05:30 [DBG] Connection id "0HMQGF6IN3GPI" started.
2023-05-09 16:09:20.111 +05:30 [DBG] Connection id "0HMQGF6IN3GPJ" accepted.
2023-05-09 16:09:20.121 +05:30 [DBG] Connection id "0HMQGF6IN3GPJ" started.
2023-05-09 16:09:20.157 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 16:09:20.265 +05:30 [DBG] Connection id "0HMQGF6IN3GPI" stopped.
2023-05-09 16:09:20.273 +05:30 [DBG] Connection id "0HMQGF6IN3GPI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 16:09:20.292 +05:30 [DBG] Connection 0HMQGF6IN3GPJ established using the following protocol: "Tls13"
2023-05-09 16:09:20.403 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 16:09:20.439 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 16:09:20.557 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 16:09:20.641 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 16:09:20.657 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 16:09:20.668 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 16:09:21.379 +05:30 [DBG] Successfully validated the token.
2023-05-09 16:09:21.385 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 16:09:21.402 +05:30 [DBG] Authorization was successful.
2023-05-09 16:09:21.407 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 16:09:21.486 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 16:09:21.491 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 16:09:21.494 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 16:09:21.500 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 16:09:21.504 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 16:09:21.506 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 16:09:21.510 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 16:09:21.886 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 16:09:22.351 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 16:09:22.365 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 16:09:22.371 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 16:09:22.377 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 16:09:22.381 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 16:09:22.385 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 16:09:22.394 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 16:09:24.782 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 16:09:24.934 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 16:09:25.721 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 16:09:25.891 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 16:09:26.053 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (146ms).
2023-05-09 16:09:26.103 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:09:26.169 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:09:26.216 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 16:09:26.284 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 16:09:26.313 +05:30 [DBG] A data reader was disposed.
2023-05-09 16:09:26.340 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:09:26.370 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:09:26.404 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 16:09:26.512 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 16:09:26.525 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 16:09:26.528 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-09 16:09:26.531 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:09:26.534 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:09:26.538 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 16:09:26.559 +05:30 [ERR] Failed executing DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 16:09:26.570 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:09:26.575 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:09:26.591 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 16:09:27.008 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5487.4647ms
2023-05-09 16:09:27.016 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 16:09:27.021 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 74
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 16:09:27.098 +05:30 [DBG] Connection id "0HMQGF6IN3GPJ" completed keep alive response.
2023-05-09 16:09:27.111 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 16:09:27.122 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 6731.2490ms
2023-05-09 16:13:31.004 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 16:13:31.142 +05:30 [DBG] Hosting starting
2023-05-09 16:13:31.195 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 16:13:31.202 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 16:13:31.227 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 16:13:31.247 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 16:13:31.254 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 16:13:31.260 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 16:13:31.263 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 16:13:31.271 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 16:13:31.276 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 16:13:31.285 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 16:13:31.288 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 16:13:31.522 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 16:13:31.568 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 16:13:31.570 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 16:13:31.572 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 16:13:31.574 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 16:13:31.575 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 16:13:31.576 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 16:13:31.577 +05:30 [INF] Hosting environment: Development
2023-05-09 16:13:31.579 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 16:13:31.580 +05:30 [DBG] Hosting started
2023-05-09 16:13:53.259 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 16:13:55.151 +05:30 [DBG] Hosting starting
2023-05-09 16:13:55.235 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 16:13:55.241 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 16:13:55.259 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 16:13:55.281 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 16:13:55.285 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 16:13:55.294 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 16:13:55.299 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 16:13:55.306 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 16:13:55.312 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 16:13:55.319 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 16:13:55.324 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 16:13:55.619 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 16:13:55.685 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 16:13:55.688 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 16:13:55.690 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 16:13:55.691 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 16:13:55.693 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 16:13:55.694 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 16:13:55.696 +05:30 [INF] Hosting environment: Development
2023-05-09 16:13:55.697 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 16:13:55.700 +05:30 [DBG] Hosting started
2023-05-09 16:14:12.483 +05:30 [DBG] Connection id "0HMQGF99SDJ95" received FIN.
2023-05-09 16:14:12.506 +05:30 [DBG] Connection id "0HMQGF99SDJ95" accepted.
2023-05-09 16:14:12.521 +05:30 [DBG] Connection id "0HMQGF99SDJ95" started.
2023-05-09 16:14:12.524 +05:30 [DBG] Connection id "0HMQGF99SDJ96" accepted.
2023-05-09 16:14:12.528 +05:30 [DBG] Connection id "0HMQGF99SDJ96" started.
2023-05-09 16:14:12.585 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 16:14:12.742 +05:30 [DBG] Connection id "0HMQGF99SDJ95" stopped.
2023-05-09 16:14:12.783 +05:30 [DBG] Connection 0HMQGF99SDJ96 established using the following protocol: "Tls13"
2023-05-09 16:14:12.784 +05:30 [DBG] Connection id "0HMQGF99SDJ95" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 16:14:13.009 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 16:14:13.054 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 16:14:13.174 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 16:14:13.249 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 16:14:13.263 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 16:14:13.269 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 16:14:14.157 +05:30 [DBG] Successfully validated the token.
2023-05-09 16:14:14.164 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 16:14:14.183 +05:30 [DBG] Authorization was successful.
2023-05-09 16:14:14.187 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 16:14:14.291 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 16:14:14.298 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 16:14:14.301 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 16:14:14.304 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 16:14:14.307 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 16:14:14.312 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 16:14:14.316 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 16:14:14.703 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 16:14:15.190 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 16:14:15.203 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 16:14:15.210 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 16:14:15.221 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 16:14:15.236 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 16:14:15.240 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 16:14:15.254 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 16:14:17.762 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 16:14:17.900 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 16:14:18.700 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 16:14:18.946 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 16:14:19.141 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (186ms).
2023-05-09 16:14:19.186 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:14:19.250 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:14:19.303 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 16:14:19.373 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 16:14:19.406 +05:30 [DBG] A data reader was disposed.
2023-05-09 16:14:19.447 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:14:19.469 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:14:19.510 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 16:14:19.647 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 16:14:19.668 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 16:14:19.671 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-09 16:14:19.674 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:14:19.677 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:14:19.680 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 16:14:19.707 +05:30 [ERR] Failed executing DbCommand (28ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 16:14:19.724 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 16:14:19.728 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 16:14:19.750 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 16:14:20.193 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5870.4939ms
2023-05-09 16:14:20.200 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 16:14:20.205 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 74
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 16:14:20.333 +05:30 [DBG] Connection id "0HMQGF99SDJ96" completed keep alive response.
2023-05-09 16:14:20.356 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 16:14:20.384 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 7384.8500ms
2023-05-09 18:12:46.678 +05:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-09 18:12:46.809 +05:30 [DBG] Hosting starting
2023-05-09 18:12:46.860 +05:30 [INF] User profile is available. Using 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-09 18:12:46.865 +05:30 [DBG] Reading data from file 'C:\Users\RajanBakolia\AppData\Local\ASP.NET\DataProtection-Keys\key-b3fd8aaa-6d95-4495-9818-d90e1b9a1884.xml'.
2023-05-09 18:12:46.882 +05:30 [DBG] Found key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884}.
2023-05-09 18:12:46.897 +05:30 [DBG] Considering key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} with expiration date 2023-08-07 05:48:46Z as default key.
2023-05-09 18:12:46.900 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 18:12:46.903 +05:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-09 18:12:46.906 +05:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-09 18:12:46.911 +05:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-09 18:12:46.915 +05:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-09 18:12:46.919 +05:30 [DBG] Using key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} as the default key.
2023-05-09 18:12:46.920 +05:30 [DBG] Key ring with default key {b3fd8aaa-6d95-4495-9818-d90e1b9a1884} was loaded during application startup.
2023-05-09 18:12:47.105 +05:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 958085A6286C3BAA6D80481987A364B703BE5CAD)
2023-05-09 18:12:47.149 +05:30 [INF] Now listening on: https://localhost:7199
2023-05-09 18:12:47.154 +05:30 [INF] Now listening on: http://localhost:5077
2023-05-09 18:12:47.155 +05:30 [DBG] Loaded hosting startup assembly CityInfo.API
2023-05-09 18:12:47.160 +05:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-09 18:12:47.162 +05:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-09 18:12:47.164 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2023-05-09 18:12:47.165 +05:30 [INF] Hosting environment: Development
2023-05-09 18:12:47.166 +05:30 [INF] Content root path: C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\
2023-05-09 18:12:47.167 +05:30 [DBG] Hosting started
2023-05-09 18:13:11.152 +05:30 [DBG] Connection id "0HMQGHBPC2GJJ" received FIN.
2023-05-09 18:13:11.178 +05:30 [DBG] Connection id "0HMQGHBPC2GJJ" accepted.
2023-05-09 18:13:11.183 +05:30 [DBG] Connection id "0HMQGHBPC2GJJ" started.
2023-05-09 18:13:11.188 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" accepted.
2023-05-09 18:13:11.199 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" started.
2023-05-09 18:13:11.228 +05:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-09 18:13:11.311 +05:30 [DBG] Connection id "0HMQGHBPC2GJJ" stopped.
2023-05-09 18:13:11.313 +05:30 [DBG] Connection id "0HMQGHBPC2GJJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-09 18:13:11.315 +05:30 [DBG] Connection 0HMQGHBPC2GJK established using the following protocol: "Tls13"
2023-05-09 18:13:11.369 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 18:13:11.395 +05:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-09 18:13:11.453 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 18:13:11.493 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 18:13:11.499 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 18:13:11.501 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:13:11.901 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 11.14.32 AM', Current time (UTC): '09-05-2023 12.43.11 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-09 18:13:11.910 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 11.14.32 AM', Current time (UTC): '09-05-2023 12.43.11 PM'.
2023-05-09 18:13:11.920 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-09 18:13:11.934 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-09 18:13:11.938 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" completed keep alive response.
2023-05-09 18:13:11.945 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 401 0 - 578.4310ms
2023-05-09 18:13:22.579 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - -
2023-05-09 18:13:22.581 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 18:13:22.583 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-09 18:13:22.584 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-09 18:13:22.585 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:13:22.591 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 11.14.32 AM', Current time (UTC): '09-05-2023 12.43.22 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-09 18:13:22.594 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 11.14.32 AM', Current time (UTC): '09-05-2023 12.43.22 PM'.
2023-05-09 18:13:22.596 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-09 18:13:22.597 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-09 18:13:22.598 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" completed keep alive response.
2023-05-09 18:13:22.600 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - - - 401 0 - 20.2604ms
2023-05-09 18:13:38.296 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/3/pointsofinterest - -
2023-05-09 18:13:38.298 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 18:13:38.300 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-09 18:13:38.303 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-09 18:13:38.308 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:13:38.312 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 11.14.32 AM', Current time (UTC): '09-05-2023 12.43.38 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-09 18:13:38.315 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09-05-2023 11.14.32 AM', Current time (UTC): '09-05-2023 12.43.38 PM'.
2023-05-09 18:13:38.318 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-05-09 18:13:38.319 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-09 18:13:38.320 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" completed keep alive response.
2023-05-09 18:13:38.328 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/3/pointsofinterest - - - 401 0 - 31.7945ms
2023-05-09 18:13:53.100 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102
2023-05-09 18:13:53.101 +05:30 [DBG] POST requests are not supported
2023-05-09 18:13:53.104 +05:30 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-09 18:13:53.107 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-09 18:13:53.109 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 18:13:53.110 +05:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-09 18:13:53.111 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 18:13:53.144 +05:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-05-09 18:13:53.147 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 18:13:53.149 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 18:13:53.150 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 18:13:53.154 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 18:13:53.156 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 18:13:53.158 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 18:13:53.159 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-05-09 18:13:53.167 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 18:13:53.173 +05:30 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-05-09 18:13:53.175 +05:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-09 18:13:53.176 +05:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-09 18:13:53.191 +05:30 [DBG] Connection id "0HMQGHBPC2GJK", Request id "0HMQGHBPC2GJK:00000005": started reading request body.
2023-05-09 18:13:53.193 +05:30 [DBG] Connection id "0HMQGHBPC2GJK", Request id "0HMQGHBPC2GJK:00000005": done reading request body.
2023-05-09 18:13:53.330 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 18:13:53.332 +05:30 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 18:13:53.333 +05:30 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-09 18:13:53.345 +05:30 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-09 18:13:53.398 +05:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-09 18:13:53.406 +05:30 [DBG] No information found on request to perform content negotiation.
2023-05-09 18:13:53.407 +05:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-09 18:13:53.408 +05:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-09 18:13:53.409 +05:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-09 18:13:53.411 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-09 18:13:53.426 +05:30 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 257.916ms
2023-05-09 18:13:53.429 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-05-09 18:13:53.431 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" completed keep alive response.
2023-05-09 18:13:53.433 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:7199/api/authentication/authenticate application/json 102 - 200 - text/plain;+charset=utf-8 333.0029ms
2023-05-09 18:14:35.138 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - -
2023-05-09 18:14:35.139 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 18:14:35.140 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-09 18:14:35.142 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-09 18:14:35.144 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:14:35.162 +05:30 [DBG] Successfully validated the token.
2023-05-09 18:14:35.165 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 18:14:35.167 +05:30 [DBG] Authorization was successful.
2023-05-09 18:14:35.168 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:14:35.183 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 18:14:35.185 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 18:14:35.187 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 18:14:35.189 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 18:14:35.192 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 18:14:35.194 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 18:14:35.196 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 18:14:35.382 +05:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-09 18:14:35.574 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 18:14:35.577 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 18:14:35.579 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 18:14:35.585 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 18:14:35.587 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 18:14:35.588 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 18:14:35.590 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 18:14:36.638 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 18:14:36.705 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-05-09 18:14:37.011 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 18:14:37.079 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 18:14:37.175 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (93ms).
2023-05-09 18:14:37.195 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:37.224 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:37.245 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 18:14:37.307 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 18:14:37.337 +05:30 [DBG] A data reader was disposed.
2023-05-09 18:14:37.350 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:37.357 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:37.360 +05:30 [INF] Executing ForbidResult with authentication schemes ([]).
2023-05-09 18:14:37.366 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-09 18:14:37.367 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 2171.4764ms
2023-05-09 18:14:37.369 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:14:37.370 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" completed keep alive response.
2023-05-09 18:14:37.375 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 18:14:37.384 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/1/pointsofinterest - - - 403 0 - 2278.3092ms
2023-05-09 18:14:49.004 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - -
2023-05-09 18:14:49.005 +05:30 [DBG] The request path  does not match the path filter
2023-05-09 18:14:49.005 +05:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-09 18:14:49.006 +05:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-09 18:14:49.008 +05:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:14:49.009 +05:30 [DBG] Successfully validated the token.
2023-05-09 18:14:49.009 +05:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-09 18:14:49.010 +05:30 [DBG] Authorization was successful.
2023-05-09 18:14:49.013 +05:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:14:49.015 +05:30 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-05-09 18:14:49.016 +05:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-09 18:14:49.017 +05:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-09 18:14:49.019 +05:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-09 18:14:49.021 +05:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-09 18:14:49.022 +05:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-09 18:14:49.024 +05:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 18:14:49.036 +05:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-05-09 18:14:49.044 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-09 18:14:49.047 +05:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-09 18:14:49.049 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 18:14:49.050 +05:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-09 18:14:49.051 +05:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-09 18:14:49.052 +05:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-09 18:14:49.055 +05:30 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-05-09 18:14:49.060 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 18:14:49.061 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 18:14:49.064 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:49.065 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:49.067 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 18:14:49.069 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-05-09 18:14:49.071 +05:30 [DBG] A data reader was disposed.
2023-05-09 18:14:49.072 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:49.073 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:49.075 +05:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-05-09 18:14:49.077 +05:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DBContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-09 18:14:49.084 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 18:14:49.088 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-09 18:14:49.090 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:49.092 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:49.094 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 18:14:49.099 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-09 18:14:49.101 +05:30 [DBG] A data reader was disposed.
2023-05-09 18:14:49.102 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:49.103 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:49.116 +05:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-05-09 18:14:49.165 +05:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DBContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-09 18:14:49.173 +05:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-09 18:14:49.174 +05:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-09 18:14:49.176 +05:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:49.177 +05:30 [DBG] Opened connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:49.180 +05:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 18:14:49.186 +05:30 [ERR] Failed executing DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-09 18:14:49.191 +05:30 [DBG] Closing connection to database 'main' on server 'C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\CityInfo.db'.
2023-05-09 18:14:49.193 +05:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-09 18:14:49.203 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DBContext.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-05-09 18:14:49.402 +05:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 377.9316ms
2023-05-09 18:14:49.404 +05:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-05-09 18:14:49.407 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointsOfInterestForCityAsync(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 87
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\RajanBakolia\Desktop\ASP,NET Core 6 Web API Fundamentals\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 74
   at lambda_method10(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-09 18:14:49.452 +05:30 [DBG] Connection id "0HMQGHBPC2GJK" completed keep alive response.
2023-05-09 18:14:49.453 +05:30 [DBG] 'CityInfoContext' disposed.
2023-05-09 18:14:49.455 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:7199/api/cities/2/pointsofinterest - - - 500 - text/plain;+charset=utf-8 450.9581ms
